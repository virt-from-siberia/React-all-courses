# `Node.js` Mock API :metal:

Let's build simple, but complete API testing server.

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º:

- –∞–¥–º–∏–Ω–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (–¥–∞–ª–µ–µ - –ø—Ä–æ–µ–∫—Ç—ã) –ø—É—Ç–µ–º –∏—Ö –Ω–∞–±–æ—Ä–∞ (–≤–≤–æ–¥–∞) –∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è/–≤—Å—Ç–∞–≤–∫–∏, –ª–∏–±–æ –ø—É—Ç–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞;
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ;
- –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–ø–∏—Å—å, —á—Ç–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞ –ª—é–±–æ–º —É—Ä–æ–≤–Ω–µ –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏;
- –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ –∏—Ö –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∫–µ;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤;
- —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ `GET`, `POST`, `PUT` –∏ `DELETE` –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ª—é–±–æ–º—É —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø—Ä–æ–µ–∫—Ç—É, –≤–∫–ª—é—á–∞—è `GET-–∑–∞–ø—Ä–æ—Å—ã`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞;
- –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ `sort`, `order`, `limit` –∏ `offset`;
- –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.

–ù–∞—à–∞ –∞–¥–º–∏–Ω–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

<img src="https://habrastorage.org/webt/z_/bm/ge/z_bmgez08qrefh2udyodneqniqi.png" />

–î–ª—è –±—ã—Å—Ç—Ä–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è [`Bootstrap`](https://getbootstrap.com/).

–ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º—ã –±—É–¥–µ—Ç –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è 2 –≤–∞–∂–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π:

- —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö - `JSON`;
- –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–∞–Ω–Ω—ã—Ö - –º–∞—Å—Å–∏–≤.

_–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_: —Å—Ç–∞—Ç—å—è —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞, –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–∞ –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Ö–æ—Ç—è, —Å–º–µ—é –Ω–∞–¥–µ—è—Ç—å—Å—è, —á—Ç–æ –∏ –æ–ø—ã—Ç–Ω—ã–µ –Ω–∞–π–¥—É—Ç –≤ –Ω–µ–π —á—Ç–æ-–Ω–∏–±—É–¥—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ –¥–ª—è —Å–µ–±—è.

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞, –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –Ω–µ–µ, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
mkdir mock-api
cd !$

yarn init -y
# or
npm init -y

yarn add express multer nodemon open-cli very-simple-fetch
# or
npm i ...
```

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- [`express`](https://expressjs.com/ru/) - `Node.js-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫` –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- [`multer`](https://github.com/expressjs/multer/blob/master/doc/README-ru.md) - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ [`busboy`](https://www.npmjs.com/package/busboy), —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ `multipart/form-data`, —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- [`nodemon`](https://www.npmjs.com/package/nodemon) - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- [`open-cli`](https://www.npmjs.com/package/open-cli) - —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–∫–ª–∞–¥–∫–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∞–¥—Ä–µ—Å—É
- [`very-simple-fetch`](https://www.npmjs.com/package/very-simple-fetch) - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ [`Fetch API`](https://developer.mozilla.org/ru/docs/Web/API/Fetch_API), —É–ø—Ä–æ—â–∞—é—â–∞—è —Ä–∞–±–æ—Ç—É —Å –Ω–∞–∑–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

–û—Ç–∫—Ä—ã–≤–∞–µ–º `package.json`, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –≤ –Ω–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ (`index.js`) –∫–∞–∫ –º–æ–¥—É–ª—å –∏ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```json
{
 "type": "module",
 "scripts": {
   "dev": "open-cli http://localhost:5000 && nodemon index.js"
 }
}
```

–ö–æ–º–∞–Ω–¥–∞ `dev` —É–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –≤–∫–ª–∞–¥–∫—É –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5000` (–∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –≤ —Ñ–∞–π–ª–µ `index.js` (–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥–µ—Ç —Å–ª–µ–¥—É—é—â–µ–π:

- `projects` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
- `public` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
- `routes` - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ä–æ—É—Ç–æ–≤
- `index.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞
- `utils.js` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ü–æ–∂–∞–ª—É–π, –ø—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ù–µ –±—É–¥–µ–º –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–Ω–æ <del>–æ—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞</del> —Å–¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å.

## –°–µ—Ä–≤–µ—Ä, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –∏ —É—Ç–∏–ª–∏—Ç—ã

–í —Ñ–∞–π–ª–µ `index.js` –º—ã –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

- –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º `express`, –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–π (—Ä–∞–±–æ—á–µ–π) –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ —Ä–æ—É—Ç—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤;
- —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä `Express-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`;
- –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤ (–ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤): –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤, –¥–ª—è —Ä–∞–∑–±–æ—Ä–∞ (–ø–∞—Ä—Å–∏–Ω–≥–∞) –¥–∞–Ω–Ω—ã—Ö –≤ `JSON`, –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è `URL`;
- –¥–æ–±–∞–≤–ª—è–µ–º —Ä–æ—É—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `node_modules`;
- –¥–æ–±–∞–≤–ª—è–µ–º —Ä–æ—É—Ç—ã –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤;
- –¥–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫;
- –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ—Ä—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä.

```javascript
import express from 'express'
import { __dirname } from './utils.js'
import projectRoutes from './routes/project.routes.js'

const app = express()

app.use(express.static('public'))
app.use(express.json())
app.use(express.urlencoded({ extended: true }))

app.get('/node_modules/*', (req, res) => {
 res.sendFile(`${__dirname}/${req.url}`)
})

app.use('/project', projectRoutes)

// –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–º –≤ —Ü–µ–ø–æ—á–∫–µ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤
app.use((err, req, res, next) => {
 console.error(err.message || err)
 res.sendStatus(err.status || 500)
})

const PORT = process.env.PORT || 5000
app.listen(PORT, () => {
 console.log(`üöÄ -> ${PORT}`)
})
```

–ü–æ–¥—É–º–∞–µ–º –æ —Ç–æ–º, –∫–∞–∫–∏–µ —Ä–æ—É—Ç—ã –Ω–∞–º –Ω—É–∂–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏. –ö–∞–∫ –Ω–∞—Å—á–µ—Ç —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

- `GET` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
- `GET` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- `POST` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `POST` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `DELETE` - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ú—ã —Ç–∞–∫–∂–µ –º–æ–≥–ª–∏ –±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ `PUT-–∑–∞–ø—Ä–æ—Å`, –Ω–æ –≤ —ç—Ç–æ–º –Ω–µ—Ç –æ—Å–æ–±–æ–≥–æ —Å–º—ã—Å–ª–∞ - –ø—Ä–æ—â–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç –Ω–æ–≤—ã–º.

–í —Ñ–∞–π–ª–µ `routes/project.routes.js` –º—ã –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

- –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–æ—É—Ç–µ—Ä –∏–∑ `express` –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `utils.js`;
- —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞;
- –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤—ã—à–µ –∑–∞–ø—Ä–æ—Å–∞.

```javascript
import { Router } from 'express'
// –º—ã –ø–æ–¥—Ä–æ–±–Ω–æ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–∞–∂–¥—É—é –∏–∑ —ç—Ç–∏—Ö —É—Ç–∏–ª–∏—Ç –¥–∞–ª–µ–µ
import {
 getFileNames,
 createFile,
 readFile,
 removeFile,
 uploadFile
} from '../utils.js'

export default Router()
```

–î–∞–ª–µ–µ —Ü–µ–ø–æ—á–∫–æ–π (–æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º) –∏–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏.

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é:

```javascript
 .get('/', async (req, res, next) => {
   // –∏–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ - `?project_name=todos`
   const { project_name } = req.query

   // –µ—Å–ª–∏ `URL` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞, –∑–Ω–∞—á–∏—Ç,
   // —ç—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
   // –ø–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É
   if (!project_name) return next()

   try {
     // –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–µ–∫—Ç
     const project = await readFile(project_name)

     // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
     res.status(200).json(project)
   } catch (e) {
     // –ø–µ—Ä–µ–¥–∞–µ–º –æ—à–∏–±–∫—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É –æ—à–∏–±–æ–∫
     next(e)
   }
 })
```

–ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:

```javascript
 .get('/', async (req, res, next) => {
   try {
     // –ø–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
     const projects = (await getFileNames()) || []

     // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Ö
     res.status(200).json(projects)
   } catch (e) {
     next(e)
   }
 })
```

–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
 .post('/create', async (req, res, next) => {
   // –∏–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–µ–≥–æ –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
   const { project_name, project_data } = req.body

   try {
     // —Å–æ–∑–¥–∞–µ–º –ø—Ä–æ–µ–∫—Ç
     await createFile(project_data, project_name)

     // —Å–æ–æ–±—â–∞–µ–º –æ–± —É—Å–ø–µ—à–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
     res.status(201).json({ message: `Project "${project_name}" created` })
   } catch (e) {
     next(e)
   }
 })
```

–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
 .post(
   '/upload',
   // `multer`; –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–π –µ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç -
   // –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–æ–ª—è, —Å–æ–¥–µ—Ä–∂–∞—â–µ–≥–æ –¥–∞–Ω–Ω—ã–µ, –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —ç—Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
   uploadFile.single('project_data_upload'),
   (req, res, next) => {
     // —Å–æ–æ–±—â–∞–µ–º –æ–± —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
     res.status(201).json({
       message: `Project "${req.body.project_name}" uploaded`
     })
   }
 )
```

–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
 .delete('/', async (req, res, next) => {
   // –∏–∑–≤–ª–µ–∫–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
   const { project_name } = req.query

   try {
     // —É–¥–∞–ª—è–µ–º –ø—Ä–æ–µ–∫—Ç
     await removeFile(project_name)

     // —Å–æ–æ–±—â–∞–µ–º –æ–± —É—Å–ø–µ—Ö–µ
     res.status(201).json({ message: `Project "${project_name}" removed` })
   } catch (e) {
     next(e)
   }
 })
```

–û—à–∏–±–∫–∞, –≤–æ–∑–Ω–∏–∫—à–∞—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ª—é–±–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏, –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –≤ `index.js` - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫. –ù–µ—á—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.

–í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª–µ `utils.js` - –ø–æ–∂–∞–ª—É–π, —Å–∞–º–∞—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∏ –ø–æ–ª–µ–∑–Ω–∞—è —á–∞—Å—Ç—å —Ç—É—Ç–æ—Ä–∏–∞–ª–∞. –Ø –ø–æ—Å—Ç–∞—Ä–∞–ª—Å—è —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±—ã–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏ —Å —Ç–æ–π —Ü–µ–ª—å—é, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ —Å–≤–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö –±–µ–∑ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–ù–∞—á–Ω–µ–º —Å –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ (–∞–±—Å–æ–ª—é—Ç–Ω–æ–≥–æ) –ø—É—Ç–∏ –∫ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ (–∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏), –∞ —Ç–∞–∫–∂–µ —Å —Å–æ–∑–¥–∞–Ω–∏—è 2 –Ω–µ–±–æ–ª—å—à–∏—Ö —É—Ç–∏–ª–∏—Ç:

- –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, —á—Ç–æ —Ñ–∞–π–ª–∞ –∏–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—é –æ–± –æ—à–∏–±–∫–µ;
- –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø—É—Ç–∏ –Ω–∞ 1 "–µ–¥–∏–Ω–∏—Ü—É".

```javascript
import { dirname } from 'path'
import { fileURLToPath } from 'url'
import { promises as fs } from 'fs'
import multer from 'multer'

// –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
export const __dirname = dirname(fileURLToPath(import.meta.url))
// –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
const ROOT_PATH = `${__dirname}/projects`

// —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞
const notExist = (e) => e.code === 'ENOENT'
// —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –ø—É—Ç–∏ –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É
// –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—É—Ç—å `path/to/file` –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
// –±—É–¥–µ—Ç –∏–º–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ `path/to`
const truncPath = (p) => p.split('/').slice(0, -1).join('/')
```

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞:

```javascript
// —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç 3 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: –¥–∞–Ω–Ω—ã–µ, –ø—É—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `json`)
export async function createFile(fileData, filePath, fileExt = 'json') {
 // —Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É
 const fileName = `${ROOT_PATH}/${filePath}.${fileExt}`

 try {
   // –ø—Ä–æ–±—É–µ–º —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª
   // –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –ø–æ–ª–Ω—ã–º –ø—É—Ç–µ–º
   // —Ñ–∞–π–ª–∞ —è–≤–ª—è–µ—Ç—Å—è `.../data/todos.json`, –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
   if (fileExt === 'json') {
     await fs.writeFile(fileName, JSON.stringify(fileData, null, 2))
   } else {
     await fs.writeFile(fileName, fileData)
   }
 } catch (err) {
   // –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
   if (notExist(err)) {
     // —Å–æ–∑–¥–∞–µ–º –µ–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏)
     await fs.mkdir(truncPath(`${ROOT_PATH}/${filePath}`), {
       recursive: true
     })
     // –∏ —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–µ–º `createFile` —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ - —Ä–µ–∫—É—Ä—Å–∏—è
     return createFile(fileData, filePath, fileExt)
   }
   // –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
   // —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–Ω—è—Ç—å—Å—è –∏–∑ —É—Ç–∏–ª–∏—Ç—ã –≤ —Ä–æ—É—Ç –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –æ—à–∏–±–∫—É –≤ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
   throw err
 }
}
```

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:

```javascript
// —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
export async function readFile(filePath, fileExt = 'json') {
 // –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
 const fileName = `${ROOT_PATH}/${filePath}.${fileExt}`

 // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Ñ–∞–π–ª–∞
 let fileHandler = null
 try {
   // `fs.open()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ñ–∞–π–ª–∞
   // –∏–ª–∏ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ñ–∞–π–ª–∞
   // —ç—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–º —Å–ø–æ—Å–æ–±–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è —Ñ–∞–π–ª–∞
   fileHandler = await fs.open(fileName)

   // —á–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
   const fileContent = await fileHandler.readFile('utf-8')

   // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
   return fileExt === 'json' ? JSON.parse(fileContent) : fileContent
 } catch (err) {
   // –µ—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   // –≤—ã –ø–æ–π–º–µ—Ç–µ –ø–æ—á–µ–º—É –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–º–µ–Ω–Ω–æ —Ç–∞–∫—É—é —Å–∏–≥–Ω–∞—Ç—É—Ä—É –æ—à–∏–±–∫–∏,
   // –∫–æ–≥–¥–∞ –º—ã –ø–µ—Ä–µ–π–¥–µ–º –∫ —Ä–æ—É—Ç–∞–º –¥–ª—è `API`
   if (notExist(err)) {
     throw { status: 404, message: 'Not found' }
   }
   // –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞
   throw err
 } finally {
   // –∑–∞–∫—Ä—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–∞–π–ª–∞
   fileHandler?.close()
 }
}
```

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞:

```javascript
// —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
export async function removeFile(filePath, fileExt = 'json') {
 // –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
 const fileName = `${ROOT_PATH}/${filePath}.${fileExt}`

 try {
   // –ø—Ä–æ–±—É–µ–º —É–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª
   await fs.unlink(fileName)

   // –Ω–∞–º —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é, –µ—Å–ª–∏ —Ç–∞–∫–æ–≤–∞—è –∏–º–µ–µ—Ç—Å—è
   // –º—ã –ø–µ—Ä–µ–¥–∞–µ–º —É—Ç–∏–ª–∏—Ç–µ –ø—É—Ç—å, —Å–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É, —Ç.–µ. –±–µ–∑ —É—á–µ—Ç–∞ –ø—É—Ç–∏ —Ñ–∞–π–ª–∞
   await removeDir(truncPath(`${ROOT_PATH}/${filePath}`))
 } catch (err) {
   // –µ—Å–ª–∏ —Ñ–∞–π–ª –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
   if (notExist(err)) {
     throw { status: 404, message: 'Not found' }
   }
   // –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞
   throw err
 }
}
```

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:

```javascript
// —É—Ç–∏–ª–∏—Ç–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ —É–¥–∞–ª—è–µ–º–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –ø—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏,
// –∫–æ—Ç–æ—Ä—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏
async function removeDir(dirPath, rootPath = ROOT_PATH) {
 // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º—Å—è, –µ—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
 if (dirPath === rootPath) return

 // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—É—Å—Ç–æ–π
 // –¥–ª–∏–Ω–∞ –µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–æ–ª–∂–Ω–∞ —Ä–∞–≤–Ω—è—Ç—å—Å—è 0
 const isEmpty = (await fs.readdir(dirPath)).length < 1

 // –µ—Å–ª–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø—É—Å—Ç–æ–π
 if (isEmpty) {
   // —É–¥–∞–ª—è–µ–º –µ–µ
   await fs.rmdir(dirPath)

   // –∏... —Ä–µ–∫—É—Ä—Å–∏—è
   // –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –º—ã —Å–æ–∫—Ä–∞—â–∞–µ–º –ø—É—Ç—å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É,
   // –ø–æ–∫–∞ –Ω–µ –ø–æ–¥–Ω–∏–º–µ–º—Å—è –¥–æ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   removeDir(truncPath(dirPath, rootPath))
 }
}
```

–ï—â–µ –æ–¥–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–±–µ—â–∞—é, —á—Ç–æ –ø–æ—Å–ª–µ–¥–Ω—è—è) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –≤—Å–µ—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:

```javascript
// —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø—É—Ç—å –∫ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
export async function getFileNames(path = ROOT_PATH) {
 // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤
 let fileNames = []

 try {
   // —á–∏—Ç–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
   const files = await fs.readdir(path)

   // –µ—Å–ª–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ñ–∞–π–ª
   // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –º–∞—Å—Å–∏–≤ —Å –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
   if (files.length < 1) return fileNames

   // –∏–Ω–∞—á–µ –ø–µ—Ä–µ–±–∏—Ä–∞–µ–º —Ñ–∞–π–ª—ã
   for (let file of files) {
     // —Ñ–æ—Ä–º–∏—Ä—É–µ–º –ø—É—Ç—å –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
     file = `${path}/${file}`

     // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ñ–∞–π–ª –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
     const isDir = (await fs.stat(file)).isDirectory()

     // –µ—Å–ª–∏ —è–≤–ª—è–µ—Ç—Å—è
     if (isDir) {
       // –ø—Ä–∏–±–µ–≥–∞–µ–º –∫ —Ä–µ–∫—É—Ä—Å–∏–∏
       fileNames = fileNames.concat(await getFileNames(file))
     } else {
       // –µ—Å–ª–∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è, –¥–æ–±–∞–≤–ª—è–µ–º –µ–≥–æ –ø—É—Ç—å –≤ –º–∞—Å—Å–∏–≤
       fileNames.push(file)
     }
   }

   return fileNames
 } catch (err) {
   if (notExist(err)) {
     throw { status: 404, message: 'Not found' }
   }
   throw err
 }
}
```

–ü–æ—Å–ª–µ–¥–Ω—è—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –Ω—É–∂–Ω–∞ –Ω–∞–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ - —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤. –î–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —è–≤–ª—è–µ—Ç—Å—è —Ç–∞–∫–æ–π —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π, –∫–∞–∫ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ. –û–Ω–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ `multipart/form-data`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ –≤–ø–æ–ª–Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è:

```javascript
// —Å–æ–∑–¥–∞–µ–º –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
export const uploadFile = multer({
 storage: multer.diskStorage({
   // –ø—É–Ω–∫—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è - –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ñ–∞–π–ª–æ–≤
   destination: (req, file, cb) => {
     // –≤–∞–∂–Ω–æ: –ø–æ—Å–ª–µ–¥–Ω—è—è —á–∞—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ñ–∞–π–ª–∞
     // –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è `data/todos`, —Ç–æ —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è `todos.json`
     // –º—ã —Ç–∞–∫–∂–µ —É–¥–∞–ª—è–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–∑ –ø—É—Ç–∏ –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
     const dirPath = `${ROOT_PATH}/${req.body.project_name.replace(
       file.originalname.replace('.json', ''),
       ''
     )}`
     // –∑–¥–µ—Å—å –º—ã –∏—Å—Ö–æ–¥–∏–º –∏–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è, —á—Ç–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ñ–∞–π–ª–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
     // —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª—É—á–∏—Ç—Å—è
     fs.mkdir(dirPath, { recursive: true }).then(() => {
       cb(null, dirPath)
     })
   },
   // –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
   filename: (_, file, cb) => {
     cb(null, file.originalname)
   }
 })
})
```

–í—Å–µ, —á—Ç–æ –Ω–∞–º –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ - —ç—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —á–∞—Å—Ç—å –∞–¥–º–∏–Ω–∫–∏.

## –ö–ª–∏–µ–Ω—Ç

–†–∞–∑–º–µ—Ç–∫–∞ (`public/index.html`):

```html
<head>
 <!-- –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞ -->
 <title>Mock API</title>
 <!-- –∏–∫–æ–Ω–∫–∞ -->
 <link rel="icon" href="icon.png" />
 <!-- –ì—É–≥–ª-—à—Ä–∏—Ñ—Ç -->
 <link rel="preconnect" href="https://fonts.googleapis.com" />
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
 <link
   href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap"
   rel="stylesheet"
 />
 <!-- bootstrap -->
 <link
   rel="stylesheet"
   href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
   integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
   crossorigin="anonymous"
 />
 <!-- bootstrap-icons -->
 <link
   rel="stylesheet"
   href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
 />
 <!-- —Å—Ç–∏–ª–∏ -->
 <link rel="stylesheet" href="style.css" />
</head>
<body>
 <div class="container">
   <header>
     <h1 class="text-center my-3">Mock API</h1>
   </header>

   <main>
     <div>
       <h3 class="my-3">My projects</h3>
       <!-- —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ -->
       <ul class="list-group" id="project_list"></ul>
     </div>

     <div>
       <h3 class="my-3">New project</h3>
       <!-- —Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ -->
       <form id="project_create">
         <div class="mb-2">
           <label for="project_name" class="form-label">Project name</label>
           <!-- –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ -->
           <input
             type="text"
             class="form-control mt-2"
             name="project_name"
             id="project_name"
             aria-describedby="project_name"
             placeholder="Project name"
           />
         </div>

         <details class="mt-4">
           <summary>Enter or paste project data</summary>
           <!-- –ø–æ–ª–µ –¥–ª—è –≤–≤–æ–¥–∞/–≤—Å—Ç–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ -->
           <textarea
             class="form-control mt-2"
             name="project_data"
             id="project_data_paste"
             rows="10"
           ></textarea>
         </details>
         <div class="mt-4">
           <label for="project_data_upload" class="form-label"
             >Upload project data</label
           >
           <!-- –ø–æ–ª–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ -->
           <!-- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ JSON-—Ñ–∞–π–ª—ã –≤ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–º —á–∏—Å–ª–µ -->
           <input
             class="form-control mt-2"
             type="file"
             accept=".json"
             name="project_data_upload"
             id="project_data_upload"
             aria-describedby="project_data_upload"
           />
         </div>
         <!-- –∫–Ω–æ–ø–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ -->
         <button class="btn btn-success my-4">Create project</button>
       </form>
     </div>
   </main>
 </div>

 <!-- —Å–∫—Ä–∏–ø—Ç-–º–æ–¥—É–ª—å -->
 <script src="script.js" type="module"></script>
</body>
```

_–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_ –Ω–∞ `id` —ç–ª–µ–º–µ–Ω—Ç–æ–≤. –ü–æ—Å–∫–æ–ª—å–∫—É —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `id` —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ `window`, –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é, —Ç.–µ. –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é —Ç–∞–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤, –∫–∞–∫ `querySelector()`.

–ù–∞ —Å—Ç–∏–ª—è—Ö —è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –Ω–µ –±—É–¥—É: –≤—Å–µ, —á—Ç–æ –º—ã —Ç–∞–º –¥–µ–ª–∞–µ–º - —ç—Ç–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —à—Ä–∏—Ñ—Ç –¥–ª—è –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É `.container`.

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ `public/script.js`.

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º `very-simple-fetch`, —Ñ–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —É—Ç–∏–ª–∏—Ç—É –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ–≥–æ, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç `JSON`, –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑–æ–≤—ã–π `URL` —Å–µ—Ä–≤–µ—Ä–∞:

```javascript
import simpleFetch from '/node_modules/very-simple-fetch/index.js'
import todos from './data/todos.js'
import { isJson } from './utils.js'

simpleFetch.baseUrl = 'http://localhost:5000/project'
```

–§–∏–∫—Ç–∏–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (`public/data/todos.js`):

```javascript
export default [
 {
   id: '1',
   text: 'Eat',
   done: true,
   edit: false
 },
 {
   id: '2',
   text: 'Code',
   done: true,
   edit: false
 },
 {
   id: '3',
   text: 'Sleep',
   done: false,
   edit: false
 },
 {
   id: '4',
   text: 'Repeat',
   done: false,
   edit: false
 }
]
```

–£—Ç–∏–ª–∏—Ç–∞ (`public/utils.js`):

```javascript
export const isJson = (item) => {
 try {
   item = JSON.parse(item)
 } catch (e) {
   return false
 }

 if (typeof item === 'object' && item !== null) {
   return true
 }

 return false
}
```

–û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–æ–≤:

```javascript
async function fetchProjects() {
 // –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –æ—à–∏–±–∫—É
 // `customCache: false` –æ—Ç–∫–ª—é—á–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
 const { data, error } = await simpleFetch.get({ customCache: false })

 // –µ—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞
 if (error) {
   return console.error(error)
 }

 // –æ—á–∏—â–∞–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
 project_list.innerHTML = ''

 // –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–µ—Ç
 if (data.length < 1) {
   // /*html*/ - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `es6-string-html` –¥–ª—è VSCode
   // –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫—É –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–∞—Ö
   return (project_list.innerHTML = /*html*/ `
     <li
       class="list-group-item d-flex align-items-center"
     >
       You have no projects. Why don't create one?
     </li>
   `)
 }

 // —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Å–ø–∏—Å–æ–∫, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤
 const projects = data.map((p) =>
   p.replace(/.+projects\//, '').replace('.json', '')
 )

 // —Å–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
 // –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∞—Ç—Ä–∏–±—É—Ç—ã `data-*`
 for (const p of projects) {
   project_list.innerHTML += /*html*/ `
     <li
       class="list-group-item d-flex align-items-center"
       data-name="${p}"
     >
       <span class="flex-grow-1">
         ${p}
       </span>
       <button
         class="btn btn-outline-success"
         data-action="edit"
       >
         <i class="bi bi-pencil"></i>
       </button>
       <button
         class="btn btn-outline-danger"
         data-action="remove"
       >
         <i class="bi bi-trash"></i>
       </button>
     </li>
   `
 }
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ñ–∏–∫—Ç–∏–≤–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

```javascript
function initProject(name, data) {
 project_name.value = name
 project_data_paste.value = isJson(data) ? data : JSON.stringify(data, null, 2)
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. –û–Ω–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤, –∞ —Ç–∞–∫–∂–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã - —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
function initHandlers() {
 // ...
}
```

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫:

```javascript
// –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è —Å–ø–∏—Å–∫—É –ø—Ä–æ–µ–∫—Ç–æ–≤ - —ç–ª–µ–º–µ–Ω—Ç—É `ul`
project_list.onclick = ({ target }) => {
 // –ø–æ–ª—É—á–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É
 const button = target.matches('button') ? target : target.closest('button')

 // –ø–æ–ª—É—á–∞–µ–º —Ç–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏
 const { action } = button.dataset

 // –ø–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
 const { name } = target.closest('li').dataset

 if (button && action && name) {
   switch (action) {
     case 'edit':
       // —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
       return editProject(name)
     case 'remove':
       // —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
       return removeProject(name)
     default:
       return
   }
 }
}
```

–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã:

```javascript
project_create.onsubmit = async (e) => {
 e.preventDefault()

 // –ø—Ä–æ–µ–∫—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
 if (!project_name.value.trim()) return

 // –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ –∏ –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
 let data, response

 // –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é `<input type="file" />` —Ñ–∞–π–ª
 // –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–¥ –∑–Ω–∞—á–µ–Ω–∏–µ–º `<textarea>`
 if (project_data_upload.value) {
   // `multipart/form-data`
   // –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ–ª–µ–π —Å–æ–≤–ø–∞–¥–∞—é—Ç —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
   // –∞—Ç—Ä–∏–±—É—Ç–æ–≤ `name` —ç–ª–µ–º–µ–Ω—Ç–æ–≤ `input` –∏ `textarea`
   data = new FormData(project_create)

   // —É–¥–∞–ª—è–µ–º –ª–∏—à–Ω–µ–µ –ø–æ–ª–µ
   data.delete('project_data_paste')

   // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç
   response = await simpleFetch.post('/upload', data, {
     // `multer` —Ç—Ä–µ–±—É–µ—Ç, —á—Ç–æ–±—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –±—ã–ª–∏ –ø—É—Å—Ç—ã–º–∏
     headers: {}
   })
 } else {
   // –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
   data = project_data_paste.value.trim()
   // –ø–æ–ª—É—á–∞–µ–º –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
   const name = project_name.value.trim()

   // –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
   if (!data || !name) return

   // —Ñ–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
   const body = {
     project_name: name,
     project_data: isJson(data) ? JSON.parse(data) : data
   }

   // –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –∏ –ø–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç
   response = await simpleFetch.post('/create', body)
 }

 // –æ—á–∏—â–∞–µ–º –ø–æ–ª—è
 project_name.value = ''
 project_data_paste.value = ''
 project_data_upload.value = ''

 // –≤—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞
 // –≤–∞–∂–Ω–æ: –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–æ–≤
 // –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞
 await handleResponse(response)
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
async function editProject(name) {
 // –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
 const { data, error } = await simpleFetch.get(`?project_name=${name}`)

 if (error) {
   return console.error(error)
 }

 // –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
 initProject(name, data)
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
async function removeProject(name) {
 // –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
 const response = await simpleFetch.remove(`?project_name=${name}`)

 // –≤—ã–∑—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—Ç–≤–µ—Ç–∞
 await handleResponse(response)
}
```

–§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç–≤–µ—Ç–∞ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:

```javascript
async function handleResponse(response) {
 // –∏–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –æ—à–∏–±–∫—É –∏–∑ –æ—Ç–≤–µ—Ç–∞
 const { data, error } = response

 // –µ—Å–ª–∏ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–±–∫–∞
 if (error) {
   return console.error(error)
 }

 // –≤—ã–≤–æ–¥–∏–º –≤ –∫–æ–Ω—Å–æ–ª—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
 console.log(data.message)

 // –æ–±–Ω–æ–≤–ª—è–µ–º —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
 await fetchProjects()
}
```

–ù–∞–∫–æ–Ω–µ—Ü, –≤—ã–∑—ã–≤–∞–µ–º –Ω–∞—à–∏ —Ñ—É–Ω–∫—Ü–∏–∏:

```javascript
// –ø–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
fetchProjects()
// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
// initProject(–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞)
initProject('todos', todos)
// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
initHandlers()
```

–ü—Ä–æ–≤–µ—Ä–∏–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏.

–í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É:

```bash
yarn dev
# or
npm run dev
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5000`:

<img src="https://habrastorage.org/webt/k9/ih/qy/k9ihqyadr2xptnecjgzn14trfqs.png" />
<br />
–£ –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞. –ù–∞–∂–∏–º–∞–µ–º `Create project`. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `projects` –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ñ–∞–π–ª `todos.json`, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

<img src="https://habrastorage.org/webt/ea/ov/ay/eaovay2rmwayppvx0pos6fth1fg.png" />
<br />
–ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª. –í–≤–æ–¥–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `data/todos`, –∑–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä–µ–∑ –∏–Ω–ø—É—Ç `JSON-—Ñ–∞–π–ª` –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `public/data`, –Ω–∞–∂–∏–º–∞–µ–º `Create project`. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `projects` –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `data` —Å —Ñ–∞–π–ª–æ–º –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:

<img src="https://habrastorage.org/webt/sr/6c/ux/sr6cuxrfq_nfq8e7ue9smqjnsdc.png" />
<br />
–ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–æ–∫ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ–∂–∏–¥–∞–µ–º—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º.

–û—Ç–ª–∏—á–Ω–æ, —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –≤ —à—Ç–∞—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ. –ù–æ –ø–æ–∫–∞ –æ–Ω –Ω–µ —É–º–µ–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –∑–∞–ø—Ä–æ—Å—ã —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã. –î–∞–≤–∞–π—Ç–µ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏–º.

## –†–æ—É—Ç—ã –¥–ª—è `API`

–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª `api.routes.js` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `routes`.

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ä–æ—É—Ç–µ—Ä –∏–∑ `express`, —É—Ç–∏–ª–∏—Ç—ã –∏–∑ `utils.js` –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞:

```javascript
import { Router } from 'express'
import { createFile, readFile, queryMap, areEqual } from '../utils.js'

export default Router()
```

–ù–∞—á–Ω–µ–º —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ - `POST-–∑–∞–ø—Ä–æ—Å–∞` –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç:

```javascript
.post('*', async (req, res, next) => {
 try {
   // –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–µ–∫—Ç
   const project = await readFile(req.url)

   // —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø—É—Ç–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
   const newProject = project.concat(req.body)

   // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   await createFile(newProject, req.url)

   // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   res.status(201).json(newProject)
 } catch (e) {
   next(e)
 }
})
```

`DELETE-–∑–∞–ø—Ä–æ—Å` –Ω–∞ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
// `slug` - —ç—Ç–æ –ª—é–±–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
// –æ–Ω –º–æ–∂–µ—Ç –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∫ —É–≥–æ–¥–Ω–æ, –Ω–æ, –æ–±—ã—á–Ω–æ, –∏–º–µ–Ω—É–µ—Ç—Å—è –∫–∞–∫ `slug` –∏–ª–∏ `param`
// –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —Ç–∞–∫–∏–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º —è–≤–ª—è–µ—Ç—Å—è `id` –ø—Ä–æ–µ–∫—Ç–∞
// –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–µ–∫—Å—Ç –∑–∞–¥–∞—á–∏
.delete('*/:slug', async (req, res, next) => {
 // –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞ –∏–º–µ—é—Ç –≤–∏–¥ `{ '0': '/todos', slug: '1' }`
 // –∏–∑–≤–ª–µ–∫–∞–µ–º –ø—É—Ç—å –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
 const [url, slug] = Object.values(req.params)

 try {
   // –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–µ–∫—Ç
   const project = await readFile(url)

   // —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø—É—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
   const newProject = project.filter(
     (p) => !Object.values(p).find((v) => v === slug)
   )

   // –µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∏ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç—ã —Ä–∞–≤–Ω—ã, –∑–Ω–∞—á–∏—Ç,
   // –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
   // –Ω–µ–±–æ–ª—å—à–æ–π —Ö–∞–∫
   if (areEqual(project, newProject)) {
     throw { status: 404, message: 'Not found' }
   }

   // —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   await createFile(newProject, url)

   // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
   res.status(201).json(newProject)
 } catch (e) {
   next(e)
 }
})
```

–í–æ—Ç –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤ (`utils.js`):

```javascript
export function areEqual(a, b) {
 if (a === b) return true

 if (a instanceof Date && b instanceof Date) return a.getTime() === b.getTime()

 if (!a || !b || (typeof a !== 'object' && typeof b !== 'object'))
   return a === b

 if (a.prototype !== b.prototype) return false

 const keys = Object.keys(a)

 if (keys.length !== Object.keys(b).length) return false

 return keys.every((k) => areEqual(a[k], b[k]))
}
```

`PUT-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –≤—ã–≥–ª—è–¥–∏—Ç –ø–æ—Ö–æ–∂–µ:

```javascript
.put('*/:slug', async (req, res, next) => {
 const [url, slug] = Object.values(req.params)

 try {
   const project = await readFile(url)

   // —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –ø—É—Ç–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
   const newProject = project.map((p) => {
     if (Object.values(p).find((v) => v === slug)) {
       return { ...p, ...req.body }
     } else return p
   })

   // –µ—Å–ª–∏ –æ–±—ä–µ–∫—Ç—ã —Ä–∞–≤–Ω—ã...
   if (areEqual(project, newProject)) {
     throw { status: 404, message: 'Not found' }
   }

   await createFile(newProject, url)

   res.status(201).json(newProject)
 } catch (e) {
   next(e)
 }
})
```

–ß—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è `GET-–∑–∞–ø—Ä–æ—Å–∞` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞, —Ç–æ —Å –Ω–∏–º –≤—Å–µ –Ω–µ —Ç–∞–∫ –ø—Ä–æ—Å—Ç–æ. –ú—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞—Ç—å –∫–∞–∫ –ø—Ä–æ–µ–∫—Ç —Ü–µ–ª–∏–∫–æ–º, —Ç–∞–∫ –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –Ω–µ–≥–æ. –ü—Ä–∏ —ç—Ç–æ–º –≤ —Å–ª—É—á–∞–µ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —É –Ω–∞—Å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞—Ç—å –∏—Ö –∫–∞–∫ —Å –ø–æ–º–æ—â—å—é —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ (–ø–∞—Ä–∞–º–µ—Ç—Ä–∞) - –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –æ–±—ä–µ–∫—Ç, —Ç–∞–∫ –∏ —Å –ø–æ–º–æ—â—å—é —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ - –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –º–∞—Å—Å–∏–≤.

`GET-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```javascript
.get('*', async (req, res, next) => {
 // –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤–∫–ª—é—á–∞–µ—Ç `?`, –∑–Ω–∞—á–∏—Ç, –æ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞
 // –ø–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–æ—É—Ç—É
 if (req.url.includes('?')) {
   return next()
 }

 try {
   // –ø—Ä–æ–±—É–µ–º –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
   const project = await readFile(req.url)

   // –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
   res.status(200).json(project)
 } catch (e) {
   // `throw { status: 404, message: 'Not found' }`
   // –µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω, –≤–æ–∑–º–æ–∂–Ω–æ, –º—ã –∏–º–µ–µ–º –¥–µ–ª–æ —Å –∑–∞–ø—Ä–æ—Å–æ–º
   // –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—É
   if (e.status === 404) {
     // –ø–µ—Ä–µ–¥–∞–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É —Ä–æ—É—Ç—É
     return next()
   }

   // –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞
   next(e)
 }
})
```

`GET-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—É –∏–ª–∏ —Å—Ç—Ä–æ–∫–µ –∑–∞–ø—Ä–æ—Å–∞:

```javascript
.get('*/:slug', async (req, res, next) => {
 let project = null

 try {
   // –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞
   if (req.url.includes('?')) {
     // –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–µ–∫—Ç, —É–¥–∞–ª—è—è —Å—Ç—Ä–æ–∫—É –∑–∞–ø—Ä–æ—Å–∞
     project = await readFile(req.url.replace(/\?.+/, ''))

     // `req.query` - —ç—Ç–æ –æ–±—ä–µ–∫—Ç –≤–∏–¥–∞ `{ id: '1' }`, –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –±—ã–ª–∞ `?id=1`
     // –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–∫–ª—é—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º
     // –æ–± —É—Ç–∏–ª–∏—Ç–µ `queryMap` –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ
     const notQueryKeyValues = Object.entries(req.query).filter(
       ([k]) => !queryMap[k] && k !== 'order'
     )

     // –µ—Å–ª–∏ –∏–º–µ—é—Ç—Å—è "–æ–±—ã—á–Ω—ã–µ" –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
     if (notQueryKeyValues.length > 0) {
       // —Ñ–∏–ª—å—Ç—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∏—Ö –æ—Å–Ω–æ–≤–µ
       project = project.filter((p) =>
         notQueryKeyValues.some(([k, v]) => {
           if (p[k]) {
             // —É–Ω–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç–∏
             return p[k].toString() === v.toString()
           }
         })
       )
     }

     // –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã `sort` –∏/–∏–ª–∏ `order`
     // –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö
     if (req.query['sort'] || req.query['order']) {
       project = queryMap.sort(
         project,
         req.query['sort'],
         req.query['order']
       )
     }

     // –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `offset`
     // –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–¥–≤–∏–≥ - –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
     if (req.query['offset']) {
       project = queryMap.offset(project, req.query['offset'])
     }

     // –µ—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `limit`
     // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
     if (req.query['limit']) {
       project = queryMap.limit(project, req.query['limit'])
     }
   } else {
     // –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
     // –∑–Ω–∞—á–∏—Ç, —ç—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
     // –ø–æ–ª—É—á–∞–µ–º –ø—Ä–æ–µ–∫—Ç
     const _project = await readFile(req.params[0])

     // –ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
     for (const item of _project) {
       for (const key in item) {
         if (item[key] === req.params.slug) {
           project = item
         }
       }
     }
   }

   // –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ
   if (!project || project.length < 1) return res.sendStatus(404)

   // –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ
   res.status(200).json(project)
 } catch (e) {
   next(e)
 }
})
```

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º (`utils.js`):

```javascript
// —Å–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã `Intl.Collator` –¥–ª—è –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫ –∏ —á–∏—Å–µ–ª
const strCollator = new Intl.Collator()
const numCollator = new Intl.Collator([], { numeric: true })

export const queryMap = {
 // —Å–¥–≤–∏–≥ –∏–ª–∏ –ø—Ä–æ–ø—É—Å–∫ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
 offset: (items, count) => items.slice(count),
 // –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
 limit: (items, count) => items.slice(0, count),
 // —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
 // –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç–ª–µ–º–µ–Ω—Ç—ã —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ `id` –∏ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é
 sort(items, field = 'id', order = 'asc') {
   // –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, —è–≤–ª—è—é—Ç—Å—è –ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å—Ç—Ä–æ–∫–∞–º–∏
   const isString = typeof items[0][field] === 'string' && Number.isNaN(items[0][field])
   // –≤—ã–±–∏—Ä–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä `Intl.Collator`
   const collator = isString ? strCollator : numCollator
   // –≤—ã–ø–æ–ª–Ω—è–µ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
   return items.sort((a, b) => order.toLowerCase() === 'asc'
       ? collator.compare(a[field], b[field])
       : collator.compare(b[field], a[field])
   )
 }
}
```

–ò—Ç–∞–∫, —É –Ω–∞—Å –∏–º–µ–µ—Ç—Å—è —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ `API` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏. –í —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–∞ –º—ã —É–∂–µ —É–±–µ–¥–∏–ª–∏—Å—å. –û—Å—Ç–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –∫ `API` —Ç–∞–∫–∂–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## `REST Client`

–¢—Ä–µ–º—è –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `API` —è–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–µ–µ:

- [`curl`](https://curl.se/) - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- [`postman`](https://www.postman.com/) –∏–ª–∏ [`insomnia`](https://insomnia.rest/download) - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- [`REST Client`](https://marketplace.visualstudio.com/items?itemName=humao.rest-client) - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è `VSCode`

–Ø –ø–æ–∫–∞–∂—É, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `REST Client`, –æ–¥–Ω–∞–∫–æ –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã —Å—Ñ–æ—Ä–º–∏—Ä—É–µ–º, –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –ª–µ–≥–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤ –¥—Ä—É–≥–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö.

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `REST Client` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `.http`, –Ω–∞–ø—Ä–∏–º–µ—Ä, `test.http` —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è:

```bash
###
### todos
###
GET http://localhost:5000/api/todos

###
GET http://localhost:5000/api/todos/2

###
GET http://localhost:5000/api/todos/5

###
GET http://localhost:5000/api/todos?text=Sleep

###
GET http://localhost:5000/api/todos?text=Test

###
GET http://localhost:5000/api/todos?done=true

###
POST http://localhost:5000/api/todos
content-type: application/json

{
 "id": "5",
 "text": "Test",
 "done": false,
 "edit": false
}

###
POST http://localhost:5000/api/todos
content-type: application/json

[
 {
   "id": "6",
   "text": "Test2",
   "done": false,
   "edit": false
 },
 {
   "id": "7",
   "text": "Test3",
   "done": true,
   "edit": false
 }
]

###
PUT http://localhost:5000/api/todos/2
content-type: application/json

{
 "text": "Test",
 "done": false
}

###
DELETE http://localhost:5000/api/todos/5

###
### query
###
GET http://localhost:5000/api/todos?limit=2

###
GET http://localhost:5000/api/todos?offset=2&limit=1

###
GET http://localhost:5000/api/todos?offset=3&limit=2

###
GET http://localhost:5000/api/todos?sort=id&order=desc

###
GET http://localhost:5000/api/todos?sort=title&order=desc

###
GET http://localhost:5000/api/todos?sort=text

###
GET http://localhost:5000/api/todos?sort=text&order=desc&offset=1&limit=2

###
### data/todos
###
GET http://localhost:5000/api/data/todos

###
GET http://localhost:5000/api/data/todos/2

###
GET http://localhost:5000/api/data/todos/5

###
GET http://localhost:5000/api/data/todos?text=Sleep

###
GET http://localhost:5000/api/data/todos?text=Test

###
GET http://localhost:5000/api/data/todos?done=false

###
POST http://localhost:5000/api/data/todos
content-type: application/json

{
 "id": "5",
 "text": "Test",
 "done": false,
 "edit": false
}

###
POST http://localhost:5000/api/data/todos
content-type: application/json

[
 {
   "id": "6",
   "text": "Test2",
   "done": true,
   "edit": false
 },
 {
   "id": "7",
   "text": "Test3",
   "done": false,
   "edit": false
 }
]

###
PUT http://localhost:5000/api/data/todos/3
content-type: application/json

{
 "text": "Test",
 "done": true
}

###
DELETE http://localhost:5000/api/data/todos/7
```

–ó–¥–µ—Å—å:

- `###` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- `GET`, `POST` –∏ —Ç.–¥. - –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞
- `content-type: application/json` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞
- `[ ... ]` –∏–ª–∏ `{ ... }` - —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
- –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω—ã —Ä–∞–∑–¥–µ–ª—è—Ç—å—Å—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–æ–π

–ù–∞–¥ –∫–∞–∂–¥—ã–º –∑–∞–ø—Ä–æ—Å–æ–º –≤ `VSCode` –∏–º–µ–µ—Ç—Å—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞.

<img src="https://habrastorage.org/webt/xf/xm/f4/xfxmf4ssyzdygi4hqpg1web-kxc.png" />
<br />
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `API` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞: `todos` –∏ `data/todos`.

–í—ã–ø–æ–ª–Ω–∏–º –ø–∞—Ä–æ—á–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤.

`GET-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ `todos`:

<img src="https://habrastorage.org/webt/xz/9j/-q/xz9j-q3dqazj9tyjbrttn9hljjq.png" />
<br />
`GET-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ —Å —Ç–µ–∫—Å—Ç–æ–º `Sleep` –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ `todos` —Å –ø–æ–º–æ—â—å—é —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (—Ç–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ - `GET http://localhost:5000/api/todos/Sleep`):

<img src="https://habrastorage.org/webt/hc/qx/me/hcqxmebxxk8qsrrraa6ivx-95-0.png" />
<br />
`POST-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏ –≤ –ø—Ä–æ–µ–∫—Ç `todos`:

<img src="https://habrastorage.org/webt/mg/ma/lj/mgmaljygogo8xdfqfcjkftg2ybi.png" />
<br />
`GET-–∑–∞–ø—Ä–æ—Å` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–π –∏ —Ç—Ä–µ—Ç—å–µ–π –∑–∞–¥–∞—á –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ `todos`, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ –ø–æ–ª—é `text` –ø–æ —É–±—ã–≤–∞–Ω–∏—é:

<img src="https://habrastorage.org/webt/_g/92/la/_g92laa3vqc0shq0j7yufcgv1dc.png" />
<br />
–ò —Ç.–¥.

_–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ_, —á—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–¥–Ω–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–µ–∫—Ç—ã.

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ, –∏–∑—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –∏ –º—ã—Å–ª–µ–Ω–Ω–æ —Å–≤—è–∂–∏—Ç–µ –∏—Ö —Å —Ä–æ—É—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –≤ `api.routes.js`.

The End.
